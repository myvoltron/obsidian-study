# 운영체제란?
- 유저가 컴퓨터 시스템을 쉽게 다룰 수 있게 하는 프로그램 집합. 
- 시스템 리소스를 효율적으로 관리하는 프로그램 집합.
## 운영체제의 기능들
- User Command Interface : 유저와 시스템 간 상호작용
- **Subsystem manager**
	- Memory manager
		- 프로그램의 **메모리 요청 처리**
		- 요청 적합 > **메모리 할당 및 관리**
		- 프로그램이 종료 > 할당했던 **메모리를 수집**한다.
	- Process manager - 효율적인 명령어 실행을 위해 유저 job 허가/거부.
	- Device manager - 시스템 상의 모든 디바이스를 프로그램에 할당하거나 회수한다. ex) printer, disk driver, monitor, etc.) 
	- File manager - 유저에게 파일 접근 권한을 부여한다. 접근 권한에 따라 파일을 open 하거나 close 한다.
	- (Optional) Network manager - 자원 관리 (CPU, memory, 등등...) 

> [!multi-column]
>
>> [!note]+ Windows
>> # Windows 아키텍처
>> - Kernel 기본 기능들
>> 	- 인터럽트 처리
>> 	- 프로세스 관리, 메모리 관리
>> 	- 파일 시스템 관리
>> 	- API 제공
>> - Windows의 Kernel 구조
>> 	- 하드웨어 > HAL > **마이크로 커널** > **Windows managers** > 응용 프로그램 
>> ## Role of Windows manager
>> - I/O Manager : 시스템 입출력 관리. 장치 드라이버 사이에서 메시지 전달
>> - Object Manager : 파일, 프로세스, 스레드 등 개체 정보를 제공
>> - Security Reference Monitor Manager : 각 데이터나 시스템  자원 제어를 허가/거부 -> 시스템 보안 설정 책임
>> - Process Manager : 스레드를 생성하고 처리. 프로세스가 서로 간 메모리 공간 침범하지 못하게 막음
>> ## Windows 파일 시스템
>> - FAT - 파티션 하나의 최대 크기는 2GB, 기본적으로 크기가 16비트인 테이블, 클러스터 하나는 32KB
>> - FAT32 - 32비트 개수만큼 클러스터를 가질 수 있음. 호환성이 좋음(리눅스로 옮기기 가능)
>> - **NTFS(New Technology File System)** : 폴더와 파일의 개별적인 권한 설정, 개별적인 암호화 가능. -> 더 좋은 성능과 보안
>> # Windows 부팅 순서
>> ## 공통 Steps
>> 1. POST(Power On Self Test) 실행 - **BIOS**(Basic Input/Output system)가 POST 실행. 하드웨어 스스로 문제가 없는지 기본 사항 점검.
>> 2. 기본 부팅 관련 설정 로드
>> 	- BIOS가 **CMOS**에 설정된 **시스템 설정 사항** 및 **부팅과 관련된 정보**를 읽어 시스템에 적용.
>> 	- CMOS(Complementary Metal-Oxide Semiconductor
>> 3. MBR(Master Boot Record) 로드
>> 	- 저장 매체의 첫 번째 섹터인 LBA 0에 위치한 512 바이트 영역으로, 부팅 매체의 **파일 시스템 정보** 보유
>> 	- ***Missing operating system*** 메시지는 OS 미설치 혹은 부팅 미디어 오설정
>> ### Windows XP, Windows Server 2000/2003 부팅 순서
>> 4. NTLDR(NT Loader) 실행
>> 	- 하드디스크의 부팅 파티션에 있는 프로그램
>> 	- 윈도우 부팅을 위해 간단한 파일 시스템을 실행하고 `boot.ini` 파일을 읽어 부팅 옵션 출력
>> 1. NTDETECT.com 실행
>> 	- NTDETECT는 NTLDR에서 제어권을 위임받아 시스템에 설치된 **하드웨어 검사**.
>> 	- ex) CPU type, bus type, video board type, a kind of keyboard and mouse . . 
>> 1. ntoskrnl.exe(NT OS Kernel) 실행 
>> 	- HAL.DLL. 로드
>> 	- 커널 로드, 초기화, 서비스 로드, 서브시스템 시작 
>> ### The boot sequence of Windows Vista, 2008, 7, 10, (11)
>> 7. Window Boot Manager 실행
>> 	- `bootmgr.exe` 를 실행하고 Boot Configuration Data(BCD)를 읽어서 실행 가능한 OS 목록 출력
>> 	- `bcdedit.exe`를 통해서 편집 가능
>> 1. Windows OS loader(Winload.exe) 실행
>> 	- 각종 장치 드라이버 로드
>> 	- `ntoskrnl.exe` 실행
>
>> [!note]+ Linux
>> # Linux/Unix 아키텍처
>> - 전체적인 Unix ring 구조는: 하드웨어 > 커널 > 셸 > 응용 프로그램
>> ## Kernel
>> - 커널 구조는 윈도우보다 단순 > file subsystem, device driver, the process control. 
>> 	- File subsystem: 하드디스크에 unix file을 읽거나 씀
>> 	- Device driver: 하드웨어와 소프트웨어 사이의 인터페이스 제공
>> 	- process control:  프로세스간 통신, 스케줄링, 메모리 관리 제공
>> ## Shell
>> - 응용 프로그램에서 명령을 받아 커널로 전송
>> - 사용자의 키보드 입력을 인식해서 프로그램 실행
>> - Bourne Shell, Korn Shell, C Shell 등의 종류
>> ### The main function of shells offer
>> - built-in commands 제공
>> - redirection of input/output/errors
>> - wildcard
>> - pipeline
>> - write conditional/unconditional commands
>> - create sub-shell
>> - Background processing
>> - write shell-script (program)
>> ## Linux/Unix File System
>> - General Files : Data file or execution file
>> - Directory: 디렉터리 또한 파일. 여러 파일과 하위 디렉터리 정보 포함
>> - Special Files : 프린터나 터미널 같은 물리 장치 또한 특수 파일 형태로 접근. `/dev` 에 있음.
>> - Pipe file : `|` 문자를 말함. 명령 2개를 연결할 때 사용
>> ### Unix 시스템 디렉터리 별 역할 
>> ![[Pasted image 20251016142726.png|500]]
>> # Linux/Unix 부팅 순서
>> step 1 ~ 3은 윈도우와 비슷함.
>> 1. Boot Loader 실행
>> 	- 리눅스는 부트 로더로 **LILO**(Linux Loader)나 **GRUB**(GRand Unified Bootloader, boot loader of GNU project)을 사용함
>> 	- LILO stores configurations in `/etc/lilo.conf` and GRUB stores configurations in `/etc/grub.conf`
>> 1. 실행 레벨에 따른 서비스 실행
>> 	- 부트 로더는 pid 0 process인 **Swapper**를 실행하고 그 Swapper는 pid1 **init**(`/sbin/init`) process를 실행함.
>> 	- 이때 init process는 `/etc/inittab` 파일을 읽어서 실행 레벨을 결정함.
>> 		- 부팅할 때 어느 **런레벨(runlevel)** 로 시스템을 시작할지 정하는 설정 파일. 프로그램 종류에 따라 다른 수준의 실행 레벨을 제공함. (default 3 or 5)
>> 			- Run level 0 : 시스템 종료 시 사용됨
>> 			- Run level 1 : 단일 사용자 모드, 관리자 권한의 셸이지만 대부분 데몬을 실행하지 않아 기능 제약.
>> 			- Run level 2 : 다중 사용자 모드 without NFS(Network File System)
>> 			- Run level 3 : 다중 사용자 모드 with 셸 기반의 인터페이스
>> 			- Run level 4 : **unused**, 임의로 정의하여 사용할 수 있음
>> 			- Run level 5 : Like level 3 but with GUI.
>> 			- Run level 6 : Reboot.


